<!doctype html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}HouseDepot Â· Home Essentials{% endblock %}</title>

    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/global.css') }}">

    {% block head_extra %}{% endblock %}
    <style>
      :root{
        --hd-primary:#0d2a45;          /* navy from logo */
        --hd-accent:#7b1e44;           /* burgundy from logo */
        --hd-accent-700:#5e1533;
        --hd-hero-start:#88bcc2;       /* teal gradient */
        --hd-hero-end:#78aeb5;
        --hd-logo-card:#f5fafb;        /* soft, clean card bg behind logo */
      }
      body{ font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial }
      .hd-hero{
        background:
          radial-gradient(1200px 400px at 10% -10%, rgba(123,30,68,.18), transparent),
          linear-gradient(180deg, var(--hd-hero-start) 0%, var(--hd-hero-end) 100%);
        color:#0d2a45;
      }
      .hd-pill{
        border-radius:999px; padding:.35rem .75rem; border:1px solid rgba(255,255,255,.35);
        color:#0d2a45; display:inline-flex; gap:.5rem; align-items:center; font-size:.875rem;
        background:rgba(255,255,255,.85)
      }
      .hd-btn{ background:var(--hd-accent); color:#fff; border:none }
      .hd-btn:hover{ background:var(--hd-accent-700); color:#fff }
      .product-card{ transition:.2s ease }
      .product-card:hover{ box-shadow:0 10px 30px rgba(2,8,23,.08); transform:translateY(-2px) }
      .product-badge{
        position:absolute; left:12px; top:12px; background:rgba(0,0,0,.7);
        color:#fff; font-size:.7rem; padding:.25rem .5rem; border-radius:999px
      }
      .hd-footer{ background:#0e2f4d; color:#cfe5ea }
      .hd-footer a{ color:#e6f3f6; text-decoration:none }
      .hd-footer a:hover{ color:#fff; text-decoration:underline }
      .alert{ border-radius:12px }
      .navbar-brand img{ border:0 !important }

      /* New: logo card fixes (no bottom line, prettier bg) */
      .hero-logo-card{
        background: var(--hd-logo-card);
        border:0 !important;
      }
      .hero-logo-inner{
        position:absolute; inset:0; border-radius:inherit;
        background-image:
          linear-gradient(135deg, rgba(123,30,68,.06), rgba(13,42,69,.06)),
          url('{{ url_for('static', filename='logo.png') }}'),
          url('{{ url_for('static', filename='logo.jpg') }}'); /* PNGâ†’JPG fallback */
        background-position:center;
        background-repeat:no-repeat;
        background-size:70% auto;  /* scale logo nicely */
      }
    </style>
  </head>
  <body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg" style="background: var(--hd-primary)">
      <div class="container">
        <a class="navbar-brand text-white d-flex align-items-center gap-2" href="{{ url_for('index') }}">
          <img
            src="{{ url_for('static', filename='logo.png') }}"
            onerror="this.onerror=null;this.src='{{ url_for('static', filename='logo.jpg') }}'"
            width="28" height="28" alt="HouseDepot logo"
            class="rounded-circle"
          />
          <b>HouseDepot</b>
        </a>
        <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navMain">
          <form class="ms-lg-4 my-3 my-lg-0 d-flex w-100" action="{{ url_for('index') }}" method="get" role="search">
            <input class="form-control me-2" type="search" name="q" value="{{ request.args.get('q','') }}"
                   placeholder="Search products, e.g. bedsheet, towel, IDâ€¦" aria-label="Search">
            <button class="btn btn-outline-light" type="submit"><i class="bi bi-search"></i></button>
          </form>
          <ul class="navbar-nav ms-lg-4 align-items-lg-center">
            <li class="nav-item"><a class="nav-link text-white-50" href="{{ url_for('index') }}">Home</a></li>
            <li class="nav-item">
              <a class="nav-link text-white-50 position-relative" href="{{ url_for('cart') }}">
                <i class="bi bi-cart3"></i> Cart
                {% if CART_COUNT > 0 %}
                  <span class="position-absolute translate-middle badge rounded-pill bg-danger"
                        style="top:.35rem;left:2.2rem;">
                    {{ CART_COUNT }}
                  </span>
                  <span class="visually-hidden">items in cart</span>
                {% endif %}
              </a>
            </li>
            <li class="nav-item"><a class="nav-link text-white-50" href="{{ url_for('contact') }}"><i class="bi bi-envelope"></i> Contact</a></li>
            <!-- Admin link intentionally hidden; reach it via /admin -->
          </ul>
        </div>
      </div>
    </nav>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="container mt-3">
          {% for category, message in messages %}
            <div class="alert alert-{{ 'warning' if category=='message' else category }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}

    <!-- Footer -->
    <footer class="hd-footer mt-5 pt-5 pb-4">
      <div class="container">
        <div class="row g-4">
          <div class="col-12 col-md-4">
            <div class="d-flex align-items-center gap-2 mb-2">
              <img
                src="{{ url_for('static', filename='logo.png') }}"
                onerror="this.onerror=null;this.src='{{ url_for('static', filename='logo.jpg') }}'"
                width="28" height="28" alt="logo" class="rounded-circle">
              <b class="text-white">HouseDepot</b>
            </div>
            <p class="mb-2">Quality home essentials at honest prices. Bedsheets, towels, table linen, and more.</p>
            <div class="d-flex gap-3">
              <a href="https://wa.me/{{ WHATSAPP_NUMBER }}" target="_blank"><i class="bi bi-whatsapp"></i></a>
              <a href="mailto:{{ MAIL_SENDER }}"><i class="bi bi-envelope"></i></a>
            </div>
          </div>
          <div class="col-6 col-md-2">
            <h6 class="text-white">Shop</h6>
            <ul class="list-unstyled small">
              <li><a href="{{ url_for('index') }}">All Products</a></li>
              <li><a href="{{ url_for('cart') }}">Cart</a></li>
              <li><a href="{{ url_for('contact') }}">Contact</a></li>
            </ul>
          </div>
          <div class="col-6 col-md-2">
            <h6 class="text-white">Company</h6>
            <ul class="list-unstyled small">
              <li><a href="#">About</a></li>
              <li><a href="#">Shipping</a></li>
              <li><a href="#">Returns</a></li>
            </ul>
          </div>
          <div class="col-12 col-md-4">
            <h6 class="text-white">Stay in touch</h6>
            <p class="small">Get sale alerts on WhatsAppâ€”send us a hi ðŸ‘‹</p>
            <a class="btn btn-outline-light btn-sm" target="_blank" href="https://wa.me/{{ WHATSAPP_NUMBER }}"><i class="bi bi-whatsapp me-1"></i> Chat on WhatsApp</a>
          </div>
        </div>
        <div class="mt-4 small text-secondary">Â© {{ 2025 }} HouseDepot. All rights reserved.</div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    {% block body_extra %}{% endblock %}
  </body>
</html>
